<div class="page-section">
  <!-- Header -->
  <div class="page-section__header">
    <div class="page-section__header-icon">
      <!--AQUI VA UN ICONO GAA-->
    </div>
    <h1 class="page-section__header-title">Salones y mesas</h1>
  </div>

  <p-divider type="solid" />

  <!-- Main Content -->
  <div class="page-section__content">
    <!-- Lado izquierdo: Listado de salones -->
    <div class="page-section__sidebar">
      <div class="page-section__sidebar-header">
        <h2 class="page-section__sidebar-title">Listado de salones</h2>
        <p-divider type="solid" />
      </div>

      <!-- Search Bar -->
      <div class="page-section__search">
        <input pInputText type="text" pSize="large" placeholder="Buscar" />
        <p-button styleClass="h-12 w-12" label="+" (click)="showDialog()"></p-button>
        <app-modal [visible]="showModal" (visibleChange)="closeDialog()" header="Crear Salón">
          <form (ngSubmit)="crearSalon()">
            <div class="form-modal__group">
              <label class="form-modal__label">
                <i class="pi pi-table form-modal__label-icon"></i>
                Cantidad de mesas
              </label>
              <div class="form-modal__stepper">
                <button
                  type="button"
                  class="form-modal__stepper-btn"
                  (click)="
                    nuevoSalon.cantidadMesas =
                      nuevoSalon.cantidadMesas > 0 ? nuevoSalon.cantidadMesas - 1 : 0
                  "
                >
                  &minus;
                </button>
                <span class="form-modal__stepper-value">{{
                  nuevoSalon.cantidadMesas | number : '2.0'
                }}</span>
                <button
                  type="button"
                  class="form-modal__stepper-btn"
                  (click)="nuevoSalon.cantidadMesas = nuevoSalon.cantidadMesas + 1"
                >
                  +
                </button>
              </div>
            </div>

            <div class="form-modal__group">
              <label class="form-modal__label">Nombre del salón</label>
              <input
                type="text"
                class="form-modal__input"
                [(ngModel)]="nuevoSalon.nombre"
                name="nuevoSalonNombre"
                placeholder="Ejm: Terraza"
              />
            </div>

            <div class="form-modal__footer">
              <button
                type="button"
                (click)="closeDialog()"
                class="form-modal__button form-modal__button--cancel"
              >
                <svg
                  class="form-modal__button-icon"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="12" cy="12" r="10" />
                  <line x1="15" y1="9" x2="9" y2="15" />
                  <line x1="9" y1="9" x2="15" y2="15" />
                </svg>
                <span>Cancelar</span>
              </button>
              <button type="submit" class="form-modal__button form-modal__button--save">
                <svg
                  class="form-modal__button-icon"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
                  <polyline points="17 21 17 13 7 13 7 21" />
                  <polyline points="7 3 7 8 15 8" />
                </svg>
                <span>Guardar cambios</span>
              </button>
            </div>
          </form>
        </app-modal>
      </div>

      <!-- Salones List -->
      <div class="page-section__list">
        <!-- Implementando salones -->
        <div class="page-section__item" *ngFor="let salon of salones; let i = index">
          <div class="page-section__item-header">
            <h3 class="page-section__item-name">{{ salon.nombre }}</h3>
          </div>
          <div class="page-section__item-info">
            <!-- AQUI VA UN SVG ICONO -->
            <span class="page-section__item-count">{{ salon.cantidadMesas }} mesas</span>
            <span
              class="page-section__item-status"
              [class.page-section__item-status--active]="true"
              [class.page-section__item-status--inactive]="false"
            >
              Activo
            </span>
          </div>
          <div class="page-section__item-actions">
            <button
              class="page-section__item-button page-section__item-button--edit"
              (click)="openModal(i)"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path>
              </svg>
              Editar
            </button>
            <app-modal
              [visible]="modalIndex === i"
              (visibleChange)="closeModal()"
              [header]="'Editar Salón'"
            >
              <form (ngSubmit)="guardarCambios(i)">
                <label>Nombre del salón</label>
                <input type="text" [(ngModel)]="salones[i].nombre" name="nombreSalon{{ i }}" />
                <div class="form-modal__footer">
                  <button type="button" (click)="closeModal()">Cancelar</button>
                  <button type="submit">Guardar cambios</button>
                </div>
              </form>
            </app-modal>

            <button
              *ngIf="true"
              class="page-section__item-button page-section__item-button--inactive"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <path d="m4.9 4.9 14.2 14.2"></path>
              </svg>
              Inactivar
            </button>
            <button
              *ngIf="!true"
              class="page-section__item-button page-section__item-button--active"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
              Activar
            </button>
          </div>
        </div>
      </div>
    </div>

    <p-divider layout="vertical" />

    <!-- Lado derecho: Mesas de cada salón -->
    <div class="page-section__main">
      <div class="page-section__main-header">
        <svg
          class="page-section__main-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"></path>
          <path d="m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"></path>
          <path d="M12 3v6"></path>
        </svg>
        <h2 class="page-section__main-title">Mesas del salon Pollito pio</h2>
      </div>
      <p-divider type="solid" />
      <!-- Table Header -->
      <div class="page-section__table-header">
        <div class="page-section__table-col page-section__table-col--mesa">Mesa</div>
        <div class="page-section__table-col page-section__table-col--acciones">Acciones</div>
      </div>

      <p-divider type="solid" />

      <!-- Table Rows -->
      <div class="page-section__table-body">
        <!-- Ejemplo de row - usar con *ngFor="let mesa of mesas" -->
        <div class="page-section__table-row">
          <div class="page-section__table-cell">Mesa 1</div>
          <div class="page-section__table-cell page-section__table-cell--actions">
            <button class="page-section__table-button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
